//
//  UIImage+Ex.m
//  ChinaBrowser
//
//  Created by David on 14-2-14.
//  Copyright (c) 2014年 KOTO Inc. All rights reserved.
//

#import "UIImage+Ex.h"

#import <QuartzCore/QuartzCore.h>

@implementation UIImage (Extension)

/**
 *  去bundle里的图片
 *
 *  @param file bundle中文件的相对路径
 *
 *  @return UIImage
 */
+ (UIImage *)imageWithBundleFile:(NSString *)file
{
    return [UIImage imageWithContentsOfFile:[[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:file]];
}

+ (UIImage *)imageFromView:(UIView *)view
{
    UIGraphicsBeginImageContextWithOptions(view.bounds.size, NO, 0);
    CGContextRef ctx = UIGraphicsGetCurrentContext();
    [view.layer renderInContext:ctx];
    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    return image;
}

+ (UIImage *)imageFromView:(UIView *)view rect:(CGRect)rect
{
    UIImage *imageOrigent = [UIImage imageFromView:view];
    CGImageRef imageRef = CGImageCreateWithImageInRect(imageOrigent.CGImage,CGRectApplyAffineTransform(rect, CGAffineTransformMakeScale([UIScreen mainScreen].scale, [UIScreen mainScreen].scale)));
    UIImage *image = [UIImage imageWithCGImage:imageRef];
    CGImageRelease(imageRef);
    return image;
}

@end
